---
layout: default
# Don't use the default masthead
title: Products
masthead: "no"
nav-global-primary: "no"
nav_tier1_active: "our-work"
nav-breadcrumbs:
 - "Apps": "/our-work/apps"
jquery-scripts: |
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="/script/isotope.pkgd.min.js"></script>
  <script>
    var grids = [ 'economic-development', 'health', 'safety-and-justice', 'communication-and-engagement', 'other' ];
    $.each(grids, function(key,val){
      $(document).ready(function (){
        $("#scroll-" + val).click(function() {
          $('html, body').animate({
            scrollTop: $("#" + val).offset().top
          }, 500);
          });
        });
    });
  </script>
   <script>
   $(document).ready(fit);
   $(window).resize(fit);
      function fit() {
       var heightDescr = $('.featured-description').height();
       var heightImg = $('#featured-img').height();
       console.log("Paragraph: " + heightDescr);
       console.log("Image: " + heightImg);
       if(heightDescr > heightImg){
         var heightOf = $('.featured-description').height();
         console.log(heightOf)
         $('#featured-img').css('margin-top', heightOf/14);
       }
       else{
         $('#featured-img').css('margin-top', 0);
       }
       //get height of image
       //get height of p div
       //if height greater than height of div, do function
     };

    $('.product-filters').on( 'click', 'a', function() {
      $('.none-section').remove();
    });
    var grids = [ '.economic-development', '.health', '.safety-and-justice', '.communication-and-engagement', '.other' ];
    $.each(grids, function(key,val){
      var $grid = $(val).isotope({
        itemSelector: '.js-product',
        layoutMode: 'fitRows'
      });
      $('.product-filters').on( 'click', 'a', function() {
        var filterValue = $( this ).attr('data-filter');
        $test = $grid.isotope({ filter: filterValue });
        var iso = $test.data('isotope');
        // count how many
        console.log( 'filtered ' + iso.filteredItems.length + ' items' );
        // first element
        if(iso.filteredItems.length == 0) {
          var className = '.' + $grid.attr('class').split(' ')[0];
          console.log(className);
          $("<p class='none-section note'>None Available</p>").appendTo( $(className).prev() );
        }

      });
    });
   </script>
---
<style>
  [class*="button"][class*="button"]:link {
    font-family: "Interstate", "Gotham A", "Gotham B", "Open Sans Regular", "Verdana", "Helvetica", "Arial";
    font-weight: bold;
    border-radius: 0;
    padding: 0 15px;
    text-transform: uppercase;
  }

  .products .other {
    border-bottom: none;
    margin-bottom: none;
  }
  .header-section {
    text-align: center;
  }
  .header-section .section-description, h3{
    text-align: left;
  }
  .teaser-title {
    font-family: Georgia, Times, "Times New Roman", serif;
    font-size: 25px;
    font-weight: normal;
    letter-spacing: inherit;
    line-height: 26px;
    margin: 0;
    text-transform: none;
    color: #cf1b41;
  }
  #button-live:hover {
    background-color: rgba(75,155,116,0.8);
  }
  #button-live {
    background-color: rgba(75,155,116,1);
  }
  #button-wide-beta:hover {
    background-color: rgba(27,77,105,0.8);
  }
  #button-wide-beta {
    background-color: rgba(27,77,105,1);
  }
  #button-local-beta:hover {
    background-color: rgba(83,160,208,0.8);
  }
  #button-local-beta {
    background-color: rgba(83,160,208,1);
  }
  #button-alpha:hover {
    background-color: rgba(99,95,155,0.8);
  }
  #button-alpha {
    background-color: rgba(99,95,155,1);
  }
  #button-experiment:hover {
    background-color: rgba(190,60,76,0.8);
  }
  #button-experiment {
    background-color: rgba(190,60,76,1);
  }

  .product-nav .not-emph, .not-emph {
    font-weight: lighter;
  }



  /* js-product spacing */
  .js-product { box-sizing: border-box; }
  @media screen and (min-width: 50em){
    .layout-whole-products {
      margin-left: -1em;
      margin-right: -1em;
    }
    .js-product {
      display: block;
      float: left;
      width: calc(100%/3.3);
      margin: 0;
      padding: 0 0.5em;
    }
  }

  .card-content {
    padding: 0 0.5em;
  }

  .products {
    margin-top: 1em;
  }
  div.products h1 {
    font-size: 2em;
    line-height: 28px;
    text-align: center;
    margin-top: 0.5em;
  }
  .featured-title {
    font-size: 2.5em;
    line-height: 28px;
  }
  .product-nav {
    border-right: 1px solid #e0dede;
    padding-right: 1em;
  }
  .product-card {
    border: 1px solid #e0dede;
    margin-bottom: 1.5em;
    margin-left: 0.75em;
    margin-right: 0.75em;
  }
  .pull-in {
    width: 15%;
  }
  .pull-out {
    width: 78%;
  }
  .sort-border {
    margin-top: 1em;
  }

  .title-margin {
    margin-top: 0.6em;
    margin-bottom: 0.5em;
  }

  .img-container {
    text-align: center;
    padding-right: 0.75em;
    padding-left: 0.75em;
    border-bottom: 1px solid #e0dede;
    margin-bottom: 0.5em;
  }
  .img-container img {
    flex-shrink:0;
    min-height: 72px;
    max-height:89px;
    max-width: 85%;
    padding-top: 1em;
    padding-bottom: 0.5em;
  }

  .featured {
    margin-bottom: 2em;
  }

  .fill {
    padding-top: 0.5em;
    padding-bottom: 0.5em;
  }
  .fill img {
    display: block;
    max-width: 100%;
    height: auto;
  }
  .featured-description {
    margin-left: 0;
    padding-top: 1em;
    padding-left: 1em;
    padding-right: 0.5em;
    text-align: left;
  }

  .stage-experiment {
    background-color: rgba(190,60,76,1);
  }
  .stage-alpha {
    background-color: rgba(99,95,155,1);
  }
  .stage-local-beta {
    background-color: rgba(83,160,208,1);
  }
  .stage-national-beta {
    background-color: rgba(27,77,105,1);
  }
  .stage-local-live, .stage-live {
    background-color: rgba(75,155,116,1);
  }
  .stage-label {
    float: right;
    font-family: "Interstate", "Gotham A", "Gotham B", "Open Sans Regular", "Verdana", "Helvetica", "Arial";
    font-weight: bold;
    border-radius: 0;
    padding: 0 12px;
    text-transform: uppercase;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box;
    box-sizing: content-box;
    border: none;
    color: white;
    display: inline-block;
    font-size: 10px;
    height: 25px;
    line-height: 25px;
    margin: 0 8px 8px 0;
    min-height: 19px;
    min-width: auto;
    overflow: visible;
    text-align: center;
    text-decoration: none;
    text-shadow: none;
    vertical-align: middle;
    width: auto;
  }

  .featured-margin {
    margin-bottom: 1.5em;
    margin-top: 1em;
    padding-top: 0;
    border-radius: 4px;
  }

  .section-border {
    border-bottom: 3px solid #e0dede;
    margin-bottom: 2em;
    padding-bottom: 2em;
  }

  .featured-width {
    width: 80%;
  }
  @media screen and (min-width: 50em){
    .pull-right {
      width: 30%;
      float: right;
      clear: none;
    }
    .pull-left {
      float: left;
      clear: none;
      width: 65%;
      height: 100%;
      text-align: center;
    }
  }
  @media screen and (max-width: 49em){
    .pull-left{
      float: left;
      clear: none;
      width: 100%;
      height: 100%;
      text-align: center;
    }
    .pull-right {
      width: 100%;
      float: left;
      clear: none;
    }
    #featured-img {
      padding: 0 0 0 0;
    }
  }
  #featured-img {
    padding-left: 0.5em;
    padding-top: 0.5em;
    padding-right: 0.5em;
    position: relative;
  }
</style>

<section>

{% assign live = 0 %}
{% assign local-beta = 0 %}
{% assign wide-beta = 0 %}
{% assign alpha = 0 %}
{% assign experiment = 0 %}
{% for product in site.data.products %}
  {% if product.stage contains 'Live' %}
    {% assign live = live | plus:1 %}
  {% endif %}
  {% assign beta_check = product.stage | downcase %}
  {% if beta_check contains 'beta' and beta_check contains 'local' %}
    {% assign local-beta = local-beta | plus:1 %}
  {% endif %}
  {% if beta_check contains 'beta' and beta_check contains 'national' %}
    {% assign wide-beta = wide-beta | plus:1 %}
  {% endif %}
  {% if product.stage contains 'Alpha' %}
    {% assign alpha = alpha | plus:1 %}
  {% endif %}
  {% if product.stage contains 'Experiment' %}
    {% assign experiment = experiment | plus:1 %}
  {% endif %}

{% endfor %}
    <div class="featured-width layout-breve layout-tight">
      <h1 class="featured-title title-margin">Products</h1>
      <div class="featured-margin slab-gray" id="featured-div">
          <div class="pull-left">
            <img id="featured-img" src="/media/images/cityvoice-park-story.png">
          </div>
          <div class="featured-description pull-right">
                <h4>CityVoice</h4>
                <p>CityVoice is a location based call-in system for collecting, sharing and understanding community feedback. <a href="../apps/cityvoice/#voiceTop">Read more</a></p>
          </div>
      </div>
    </div>
    <div class="layout-breve layout-tight">
      <!-- App sorting menu -->
	    <div class="pull-in layout-minor">
        <div class="sort-border product-filters">
          <h3>Focus Areas</h3>
            <div>
              <ol>
                <li><a href="#economic-development" id="scroll-economic-development">Economic Development</a></li>
                <li><a href="#safety-and-justice" id="scroll-safety-and-justice">Safety & Justice</a></li>
                <li><a href="#health" id="scroll-health">Health</a></li>
                <li><a href="#communication-and-engagement" id="scroll-communication-and-engagement">Communication & Engagement</a></li>
                <li><a href="#other" id="scroll-other">Other</a></li>
              </ol>
            </div> 
  	    	<h3>Sort By Stage</h3>
          <div>
    	    	<ul class="list-no-bullets product-nav">
              <li><a href="#" onclick="return false" class="button button-sort" id="button-live" data-filter=".js-product-live, .js-product-local-live">Live ({{ live }})</a></li>
              <p class="note">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <li><a href="#" onclick="return false" class="button button-sort" id="button-wide-beta" data-filter=".js-product-national-beta"><span class="not-emph">Wide</span> Beta ({{ wide-beta }})</a></li>
              <p class="note">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <li><a href="#" onclick="return false" class="button button-sort" id="button-local-beta" data-filter=".js-product-local-beta"><span class="not-emph">Local</span> Beta ({{ local-beta }})</a></li>
              <p class="note">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <li><a href="#" onclick="return false" class="button button-sort" id="button-alpha" data-filter=".js-product-alpha">Alpha ({{ alpha }})</a></li>
              <p class="note">Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
              <li><a href="#" onclick="return false" class="button button-sort" id="button-experiment" data-filter=".js-product-experimental">Experiment ({{ experiment }})</a></li>
              <p class="note">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
            </ul>
          </div>
        </div>
	    </div>

	    <div class="pull-out layout-major">
          <div class="products layout-whole">
        {% assign sections = "Economic Development,Safety & Justice,Health,Communication & Engagement,Other" | split: "," %}

        {% for section in sections %}

        {% assign section_class = section | downcase | replace: ' ','-' | replace: '&','and' %}

          <!-- {{ section }} -->
            <div class="header-section">
              <h3 id="{{section_class}}">{{ section }}</h3>
              <p class='section-description'>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
            </div>
            <div class="{{ section_class }} section-border">
              <div class="layout-whole layout-whole-products">
                  {% for product in site.data.products %}
                    {% assign stage_prefix = "" %}
                    {% assign live_check = product.stage | downcase %}
                    {% if live_check contains 'live' %}
                      {% assign stage_label = 'live' %}
                    {% endif %}
                    {% assign beta_check = product.stage | downcase %}
                    {% if beta_check contains 'beta' and beta_check contains 'local' %}
                      {% assign stage_prefix = "<span class='not-emph'>local</span>" %}
                      {% assign stage_label = 'beta' %}
                    {% endif %}
                    {% if beta_check contains 'beta' and beta_check contains 'national' %}
                      {% assign stage_prefix = "<span class='not-emph'>wide</span>" %}
                      {% assign stage_label = 'beta' %}
                    {% endif %}
                    {% if product.stage contains 'Alpha' %}
                      {% assign stage_label = 'alpha' %}
                    {% endif %}
                    {% if product.stage contains 'Experiment' %}
                      {% assign stage_label = 'experiment' %}
                    {% endif %}

                    {% if section == 'Other' %}
                      {% if product.focus-area != "Communication & Engagement" and product.focus-area != "Economic Development" and product.focus-area != "Health" and product.focus-area != "Safety & Justice" %}
                      <div class="product-card js-product js-product-{{ product.stage | replace:' ', '-' | downcase }}">
                        <div class="img-container">
                        {% if product.imgUrl == null %}
                          <img src="/media/images/apps/app-generic.jpg">
                        {% else %}
                          <img src="/media/images/apps/{{ product.imgUrl }}">
                        {% endif %}
                        </div>
                        <div class="card-content">
                          <h2 class="teaser-title">{{ product.name }}</h2>
                          <p>{{ product.description | truncate: 140, '...' }} <a href="#" onclick="return false">Read more</a></p><span class="stage-label stage-{{ product.stage | replace:' ', '-' | downcase }}">{{ stage_prefix }} {{ stage_label }}</span>
                        </div>
                      </div>
                      {% endif %}
                    {% else %}
                      {% if product.focus-area == section %}
                        <div class="product-card js-product js-product-{{ product.stage | replace:' ', '-' | downcase }}">
                          <div class="img-container">
                          {% if product.imgUrl == null %}
                            <img src="/media/images/apps/app-generic.jpg">
                          {% else %}
                            <img src="/media/images/apps/{{ product.imgUrl }}">
                          {% endif %}
                          </div>
                          <div class="card-content">
                            <h2 class="teaser-title">{{ product.name }}</h2>
                            <p>{{ product.description | truncate: 140, '...' }} <a href="#" onclick="return false">Read more</a></p><span class="stage-label stage-{{ product.stage | replace:' ', '-' | downcase }}">{{ stage_prefix }} {{ stage_label }}</span>
                          </div>
                        </div>
                      {% endif %}
                    {% endif %}
                  {% endfor %}
              </div>
            </div>
        {% endfor %}

            </div>
        </div>


</section>
